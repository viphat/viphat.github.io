
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Singleton Pattern</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=6c46c87b89">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/monokai_sublime.min.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,500italic,700,700italic&amp;subset=latin,latin-ext,vietnamese">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jqcloud/1.0.4/jqcloud.css">

    <link rel="canonical" href="http://localhost:2368/singleton-pattern/">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="viphat's notes">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Singleton Pattern">
    <meta property="og:description" content="Đôi khi, trong quá trình phân tích thiết kế một hệ thống, chúng ta chắc chắn được rằng, có những đối tượng cần tồn tại duy nhất song có thể truy xuất mọi lúc mọi nơi. Làm thế nào để...">
    <meta property="og:url" content="http://localhost:2368/singleton-pattern/">
    <meta property="article:published_time" content="2015-07-03T00:04:30.647Z">
    <meta property="article:modified_time" content="2015-07-10T13:14:48.817Z">
    <meta property="article:tag" content="Kinh nghiệm Lập trình">
    <meta property="article:tag" content="Singleton Pattern">
    <meta property="article:tag" content="Design Pattern">
    <meta property="article:tag" content="Software Engineering">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Singleton Pattern">
    <meta name="twitter:description" content="Đôi khi, trong quá trình phân tích thiết kế một hệ thống, chúng ta chắc chắn được rằng, có những đối tượng cần tồn tại duy nhất song có thể truy xuất mọi lúc mọi nơi. Làm thế nào để...">
    <meta name="twitter:url" content="http://localhost:2368/singleton-pattern/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "viphat's notes",
    "author": {
        "@type": "Person",
        "name": "Duong Vi Phat",
        "image": "http://localhost:2368/content/images/2015/09/avatar-ninja.png",
        "url": "http://localhost:2368/author/viphat",
        "sameAs": null,
        "description": null
    },
    "headline": "Singleton Pattern",
    "url": "http://localhost:2368/singleton-pattern/",
    "datePublished": "2015-07-03T00:04:30.647Z",
    "dateModified": "2015-07-10T13:14:48.817Z",
    "keywords": "Kinh nghiệm Lập trình, Singleton Pattern, Design Pattern, Software Engineering",
    "description": "Đôi khi, trong quá trình phân tích thiết kế một hệ thống, chúng ta chắc chắn được rằng, có những đối tượng cần tồn tại duy nhất song có thể truy xuất mọi lúc mọi nơi. Làm thế nào để..."
}
    </script>

    <meta name="generator" content="Ghost 0.7">
    <link rel="alternate" type="application/rss+xml" title="viphat's notes" href="http://localhost:2368/rss/">

</head>
<body class="post-template tag-kinh-nghiem-lap-trinh tag-singleton-pattern tag-design-pattern tag-software-engineering">

    

<main class="content" role="main">
    <div id="toc"></div>
    <nav class="main-nav">
          <i class="fa fa-bars js-main-menu-open element-light right" style="font-size:30px; margin-left:5px;"></i>
    </nav>
    <article class="post tag-kinh-nghiem-lap-trinh tag-singleton-pattern tag-design-pattern tag-software-engineering">



        <header class="post-header">
            <a id="blog-logo" href="http://localhost:2368">
                    <img src="../content/images/2015/06/988902_10153164942799169_3258802522813421684_n.jpg" alt="notes.viphat.work">
            </a>
        </header>


        <span class="post-meta"><time datetime="2015-07-03">03 Jul 2015</time> on <a href="../tag/kinh-nghiem-lap-trinh/">Kinh nghiệm Lập trình</a> | <a href="../tag/singleton-pattern/">Singleton Pattern</a> | <a href="../tag/design-pattern/">Design Pattern</a> | <a href="../tag/software-engineering/">Software Engineering</a></span>

        <h1 class="post-title">Singleton Pattern</h1>

        <section class="post-content">
            <p>Đôi khi, trong quá trình phân tích thiết kế một hệ thống, chúng ta chắc chắn được rằng, có những đối tượng cần tồn tại duy nhất song có thể truy xuất mọi lúc mọi nơi. Làm thế nào để hiện thực được một đối tượng như thế khi xây dựng mã nguồn? Bạn có thể nghĩ tới việc sử dụng một biến toàn cục, tuy nhiên, việc sử dụng biến toàn cục chỉ có thể đáp ứng được mặt “sử dụng mọi lúc mọi nơi”, còn khi xét về tính duy nhất của thể hiện thì biến toàn cục không làm được điều đó. Để giải bài toán trên, người ta hướng đến một giải pháp là sử dụng Singleton pattern – một mẫu thiết kế đáp ứng được cả hai yêu cầu trên.</p>

<h4 id="designpatternmuthitk">Design Pattern – Mẫu thiết kế</h4>

<p>Trong kỹ thuật phần mềm, mẫu thiết kế là một mô tả được áp dụng linh hoạt nhằm giải quyết một vấn đề trong nhiều tình huống thiết kế phần mềm cụ thể.</p>

<p>Thực tế có rất nhiều mẫu thiết kế từ đơn giản đến phức tạp nhằm hỗ trợ giải quyết các trường hợp khác nhau khi xây dựng mã nguồn chương trình. Tuy nhiên, trong phạm vi bài viết, tôi chỉ đề cập tới một trong những mẫu thiết kế đơn giản nhất đó là singleton pattern.</p>

<h4 id="singletonpattern">Singleton Pattern</h4>

<h5 id="khinimvcim">Khái niệm và đặc điểm</h5>

<p>Singleton là một trong những mẫu thiết kế đơn giản nhất trong các mẫu thiết kế. Đây là mẫu thiết kế được áp dụng nhằm mục đích:</p>

<ul>
<li><p>Xây dựng các lớp Singleton mà mỗi lớp chỉ có duy nhất một thể hiện. (The <strong>singleton pattern</strong> is a design pattern that restricts the instantiation of a class to one object.)</p></li>
<li><p>Có thể truy xuất được các thể hiện duy nhất đó mọi lúc mọi nơi trong chương trình.</p></li>
</ul>

<h5 id="hinthc">Hiện thực</h5>

<p>Khi hiện thực singleton pattern phải đảm bảo rằng chỉ có một thể hiện (instance) duy nhất được tạo ra và thể hiện tại có thể dùng mọi lúc mọi nơi. Nói cách khác, khi xây dựng lớp cần một kỹ thuật để có thể truy xuất được vào các thành viên public của lớp mà không tạo ra một thể hiện nào (thông qua việc khởi tạo bên ngoài lớp).</p>

<p>Để chắc chắn rằng, không có bất kỳ thể hiện nào bên ngoài lớp được tạo ra, constructor của lớp đó sẽ có phạm vi truy cập là private. Điều đó cũng có nghĩa là thể hiện duy nhất được tạo ra thông qua chính lớp mà chúng ta xây dựng. Vì vậy, ta sử dụng thành phần static để thực hiện điều này. Ta tạo một thể hiện của lớp kiểu private static và một refractor trả về đối tượng thuộc chính lớp đó.</p>

<p>Trong C++, singleton định nghĩa một thuộc tính static là một con trỏ trỏ tới thể hiện duy nhất của lớp đó.</p>

<h5 id="mhnh">Mô hình</h5>

<p><img src="http://i.imgur.com/LqHrQaM.png" alt="Singleton Class"></p>

<h5 id="mngun">Mã nguồn</h5>

<p><strong>Khai báo lớp Singleton</strong></p>

<pre><code>#include &lt;iostream&gt;
using namespace std;

class Singleton  
{
private:  
    static Singleton* m_instance;
    Singleton();
public:  
    static Singleton* getInstance();
    void            method();
};
</code></pre>

<p><strong>Định nghĩa lớp Singleton</strong></p>

<pre><code>#include "Singleton.h"

//    Init static instance
Singleton* Singleton::m_instance = NULL;

Singleton* Singleton::getInstance()  
{
    if (m_instance == NULL)
    {
        m_instance = new Singleton();
    }

    return m_instance;
}

void Singleton::method()  
{
    cout &lt;&lt; "This is singleton parttern";
}
</code></pre>

<p>Như vậy, thông qua các truy cập Singleton::getInstance() ta luôn có một đối tượng duy nhất, đồng thời có thể sử dụng nó để truy cập mọi thành phần public trong lớp. Ví dụ để gọi phương thức method trong lớp ta dùng Singleton::getInstance()-&gt;method()</p>

<p><small><strong>Nguồn bài viết: <a href="http://www.stdio.vn/articles/read/224/singleton-pattern">http://www.stdio.vn/articles/read/224/singleton-pattern</a></strong></small></p>

<p>Đọc thêm các bài viết liên quan, nếu bạn vẫn còn khúc mắc nào về Singleton Pattern:</p>

<p><a href="http://www.daonho.com/2014/04/singleton-design-pattern.html">http://www.daonho.com/2014/04/singleton-design-pattern.html</a> (Giới thiệu về Singleton Pattern.)</p>

<p><a href="http://www.daonho.com/2014/04/singleton-design-pattern-trong-java.html">http://www.daonho.com/2014/04/singleton-design-pattern-trong-java.html</a> (Triển khai Singleton Pattern bằng Java.)</p>

<p><a href="http://www.daonho.com/2014/04/design-patterns-la-gi.html">http://www.daonho.com/2014/04/design-patterns-la-gi.html</a></p>

<p><strong>Một ứng dụng thường thấy của Singleton Pattern là Logging Class trong các ứng dụng.</strong></p>

<p><a href="http://stackoverflow.com/questions/228164/on-design-patterns-when-to-use-the-singleton">http://stackoverflow.com/questions/228164/on-design-patterns-when-to-use-the-singleton</a></p>

<p><mark>Anti-Pattern là gì?</mark></p>

<p>Dự định của mình là đọc các quyển sách viết về Đạo lập trình cũng như xây dựng các thói quen tốt khi Lập trình trước khi đọc các quyển về Design Pattern. (Nếu bản thân mình không minh định được thế nào là tốt thì làm sao biết các Design Pattern này tốt ở điểm nào chứ?)</p>

<p>Các quyển sách dự định sẽ đọc:</p>

<ul>
<li>Code Complete (2nd Edititon)</li>
<li>Clean Code</li>
<li>Clean Coder</li>
<li>The Pragmatic Programmer - From Journeyman to Master</li>
<li>The Passionate Programmer, 2nd edition</li>
<li>Kỹ thuật &amp; tư duy lập trình - Craftman (Bản dịch tiếng Việt của HVA)</li>
</ul>

<p>Các quyển đã đọc </p>

<ul>
<li>How to be a Programmer: A Short, Comprehensive, and Personal Summary.</li>
<li>PROGRAMMER’S MOTIVATION FOR BEGINNERS</li>
</ul>
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h3>Duong Vi Phat</h3>
                    <p></p>
                </section>

            <section class="share">
                <h3>Share this</h3>
                <a class="icon-twitter" href="http://twitter.com/share?text=Singleton%20Pattern&amp;url=http://localhost:2368/singleton-pattern/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/singleton-pattern/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://localhost:2368/singleton-pattern/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <!-- <a class="subscribe icon-feed" href="http://localhost:2368/rss/"><span class="tooltip">Subscribe!</span></a> -->
        <div class="inner">
             <section class="social_links">
                <a href="https://twitter.com/viphat" target="_blank">
                  <i class="fa fa-twitter-square fa-2x"></i>
                </a>
                <a href="https://www.facebook.com/viphat" target="_blank">
                  <i class="fa fa-facebook-square fa-2x"></i>
                </a>
                <a href="https://github.com/viphat" target="_blank">
                  <i class="fa fa-github-square fa-2x"></i>
                </a>
             </section>
             <section class="copyright">All content copyright <a href="../">viphat's notes</a> © 2014-2015 • All rights reserved.</section>
             <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://ghost.org">Ghost</a> in <a href="https://github.com/viphat/The-Shell">The Shell</a> theme.</section>
        </div>
    </footer>

        <div class="main-menu-ovrl main-menu-ovrl-hugeinc js-main-menu-ovrl">
    <i class="fa fa-times main-menu-ovrl-close js-main-menu-close" style="margin-left: 5px; font-size:30px;"></i>
    <nav>
        <ul>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/">Home</a>
                </li>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/tag-cloud/">Tag Cloud</a>
                </li>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/blog-archive/">Blog Archive</a>
                </li>
        </ul>
    </nav>
</div>

    <!-- You can safely delete this line if your theme does not require jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-53685619-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
    <script type="text/javascript" src="../assets/js/jqcloud-1.0.4.js"></script>
    <script type="text/javascript" src="../assets/js/toc.min.js"></script>
    <script type="text/javascript" src="../assets/js/shell.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.3/handlebars.min.js"></script>
</body>
