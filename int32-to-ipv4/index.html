
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Int32 to IPv4</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=c8a6bd0a57">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/monokai_sublime.min.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,500italic,700,700italic&amp;subset=latin,latin-ext,vietnamese">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jqcloud/1.0.4/jqcloud.css">

    <link rel="canonical" href="http://localhost:2368/int32-to-ipv4/">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="viphat's notes">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Int32 to IPv4">
    <meta property="og:description" content="Mấy bữa nay, khi rãnh thì mình hay vào Codewars để chiến, tìm vài bài trình độ 5 kyu, 6 kyu làm để giải trí (Độ khó của những bài này không cao, nói chung là vừa sức với Beginner)...">
    <meta property="og:url" content="http://localhost:2368/int32-to-ipv4/">
    <meta property="article:published_time" content="2014-09-22T15:50:10.000Z">
    <meta property="article:modified_time" content="2015-01-14T14:55:22.000Z">
    <meta property="article:tag" content="Ruby on Rails">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Int32 to IPv4">
    <meta name="twitter:description" content="Mấy bữa nay, khi rãnh thì mình hay vào Codewars để chiến, tìm vài bài trình độ 5 kyu, 6 kyu làm để giải trí (Độ khó của những bài này không cao, nói chung là vừa sức với Beginner)...">
    <meta name="twitter:url" content="http://localhost:2368/int32-to-ipv4/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "viphat's notes",
    "author": {
        "@type": "Person",
        "name": "Duong Vi Phat",
        "image": "http://localhost:2368/content/images/2015/09/avatar-ninja.png",
        "url": "http://localhost:2368/author/viphat",
        "sameAs": null,
        "description": null
    },
    "headline": "Int32 to IPv4",
    "url": "http://localhost:2368/int32-to-ipv4/",
    "datePublished": "2014-09-22T15:50:10.000Z",
    "dateModified": "2015-01-14T14:55:22.000Z",
    "keywords": "Ruby on Rails",
    "description": "Mấy bữa nay, khi rãnh thì mình hay vào Codewars để chiến, tìm vài bài trình độ 5 kyu, 6 kyu làm để giải trí (Độ khó của những bài này không cao, nói chung là vừa sức với Beginner)..."
}
    </script>

    <meta name="generator" content="Ghost 0.7">
    <link rel="alternate" type="application/rss+xml" title="viphat's notes" href="http://localhost:2368/rss/">

</head>
<body class="post-template tag-ruby-on-rails">

    

<main class="content" role="main">
    <div id="toc"></div>
    <nav class="main-nav">
          <i class="fa fa-bars js-main-menu-open element-light right" style="font-size:30px; margin-left:5px;"></i>
    </nav>
    <article class="post tag-ruby-on-rails">



        <header class="post-header">
            <a id="blog-logo" href="http://localhost:2368">
                    <img src="../content/images/2015/06/988902_10153164942799169_3258802522813421684_n.jpg" alt="notes.viphat.work">
            </a>
        </header>


        <span class="post-meta"><time datetime="2014-09-22">22 Sep 2014</time> on <a href="../tag/ruby-on-rails/">Ruby on Rails</a></span>

        <h1 class="post-title">Int32 to IPv4</h1>

        <section class="post-content">
            <p>Mấy bữa nay, khi rãnh thì mình hay vào Codewars để chiến, tìm vài bài trình độ 5 kyu, 6 kyu làm để giải trí (Độ khó của những bài này không cao, nói chung là vừa sức với Beginner). Công nhận, khi bắt tay vào làm thì học được thêm nhiều thứ, nâng Skill Problem Solving, Skills về Ruby nữa, khi đụng đến những thứ liên quan là phải google tìm hiểu về Array, String, Enumerable, Regular Expression… Có những bài tưởng đơn giản nhưng làm hoài không ra, phải nói với Codewars là Tui bó tay để xem bài giải gợi ý, hic hic. Những bài mình giải được thì cũng có những người đã đi trước, cách làm của họ hay hơn, thông minh hơn, ngắn gọn hơn nữa… Đọc Code của họ, mình biết thêm nhiều thứ mới: như những methods mình không biết chẳng hạn. Và sau đây là một ví dụ – Bài Convert một Chuỗi Int32 thành Chuỗi IPv4.</p>

<blockquote>
  <p>Description</p>
  
  <p>Take the following IPv4 address: 128.32.10.1</p>
  
  <p>This address has 4 octets where each octet is a single byte (or 8 bits).</p>
  
  <p>1st octet 128 has the binary representation: 10000000 <br>
   2nd octet 32 has the binary representation: 00100000 <br>
   3rd octet 10 has the binary representation: 00001010 <br>
   4th octet 1 has the binary representation: 00000001 <br>
   So 128.32.10.1 <mark> 10000000.00100000.00001010.00000001</mark></p>
  
  <p>Because the above IP address has 32 bits, we can represent it as the 32 bit number: 2149583361</p>
  
  <p>Write a function int32<em>to</em>ip(int32) that takes a 32 bit number and returns a string representation of its IPv4 address.</p>
</blockquote>

<p>int32<em>to</em>ip(2149583361) =&gt; “128.32.10.1”</p>

<p>Đây là bài mình làm (sau khi Google những method cần thiết)</p>

<p>def int32<em>to</em>ip(int32) str<em>binary = int32.to</em>s(2) str<em>binary.rjust(32,'0') str</em>array = [] 4.times do str<em>array.push str</em>binary.slice!(0..7).to<em>i(2) end str</em>array.join(".") end</p>

<p>Nhận xét là nó dùng các lệnh khá cơ bản, dễ hiểu nhưng chưa catch trường hợp lớn hơn 255.</p>

<p>Và cùng một hướng ấy, lại có nhiều cách giải khác nhau, có những cách mà mình khi đọc Solutions của những người khác cũng phải há hốc vì những kiến thức (methods) này lạ quá, người mới học Ruby được 1~2 tháng như mình, chưa hề biết tới, hic &gt;.&lt;</p>

<p>def int32<em>to</em>ip(int32) [24, 16, 8, 0].collect {|b| (int32 &gt;&gt; b) &amp; 255}.join('.') end</p>

<p>def int32<em>to</em>ip(int32) [int32].pack('N').unpack('C*') * '.' end</p>

<p>def int32<em>to</em>ip(int32) int32.to<em>s(2).rjust(32, '0').scan(/w{8}/).collect { |oct| oct.to</em>i(2) }.join('.') end</p>

<p>def int32<em>to</em>ip(int32) first = (int32 &amp; 0xFF000000) &gt;&gt; 24 second = (int32 &amp; 0x00FF0000) &gt;&gt; 16 third = (int32 &amp; 0x0000FF00) &gt;&gt; 8 fourth = (int32 &amp; 0xFF) return "#{first}.#{second}.#{third}.#{fourth}" end</p>

<p>def int32<em>to</em>ip int32 int32  0 ? "0.0.0.0" : int32.to<em>s(2).scan(/.{1,8}/).map { |i| i.to</em>i(2) }.join('.') end</p>

<p>def int32<em>to</em>ip(int32) 4.times.collect do |i| int32. to<em>s(2). rjust(32, '0')[i*8..-1]. chars. take(8). join. to</em>i(2). to_s end.join('.') end</p>

<p>def int32<em>to</em>ip(int32) # your solution str = [] 4.times do str.unshift((int32.to<em>i &amp; 255)) int32 = int32.to</em>i() &gt;&gt; 8 end return str.join('.') end</p>

<p>…</p>

<p>và còn Nhiều nhiều nữa. <a href="http://www.codewars.com/kata/int32-to-ipv4/solutions/ruby">More</a></p>

<p>Mình Post bài này để lưu lại những đoạn Code này là chủ yếu, và cũng cho các bạn thấy, Ruby thiên biến vạn hóa như thế nào, nó có quá nhiều methods viết sẵn, mà bản thân người lập trình viên, muốn nắm rõ và tường tận những methods của nó thật không đơn giản.</p>

<blockquote>
  <p>Làm bài “Int32 to Ipv4″ này trong lúc ngồi chờ Data của bạn Xuân Trang, hỗ trợ bạn ấy cắt dán bằng Macro của VBA – Haizz, nói đến chuyện này thì tội Xuân Trang quá, Công việc thì chồng chất và khó khăn, Sếp thì thiếu trách nhiệm nên bỏ mặc, hậu quả là cháy gần đến đít… đến cả người ở bộ phận không liên quan như mình phải nhảy vào giúp sức – Cũng là vì cái tình đồng nghiệp. (Bạn Xuân Trang tính tình khá dễ thương, hay giúp đỡ người khác nên bây giờ khi bạn ấy cần, nhiều người sẵn sàng giúp lại)</p>
</blockquote>
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h3>Duong Vi Phat</h3>
                    <p></p>
                </section>

            <section class="share">
                <h3>Share this</h3>
                <a class="icon-twitter" href="http://twitter.com/share?text=Int32%20to%20IPv4&amp;url=http://localhost:2368/int32-to-ipv4/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/int32-to-ipv4/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://localhost:2368/int32-to-ipv4/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <!-- <a class="subscribe icon-feed" href="http://localhost:2368/rss/"><span class="tooltip">Subscribe!</span></a> -->
        <div class="inner">
             <section class="social_links">
                <a href="https://twitter.com/viphat" target="_blank">
                  <i class="fa fa-twitter-square fa-2x"></i>
                </a>
                <a href="https://www.facebook.com/viphat" target="_blank">
                  <i class="fa fa-facebook-square fa-2x"></i>
                </a>
                <a href="https://github.com/viphat" target="_blank">
                  <i class="fa fa-github-square fa-2x"></i>
                </a>
             </section>
             <section class="copyright">All content copyright <a href="../">viphat's notes</a> © 2014-2015 • All rights reserved.</section>
             <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://ghost.org">Ghost</a> in <a href="https://github.com/viphat/The-Shell">The Shell</a> theme.</section>
        </div>
    </footer>

        <div class="main-menu-ovrl main-menu-ovrl-hugeinc js-main-menu-ovrl">
    <i class="fa fa-times main-menu-ovrl-close js-main-menu-close" style="margin-left: 5px; font-size:30px;"></i>
    <nav>
        <ul>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/">Home</a>
                </li>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/tag-cloud/">Tag Cloud</a>
                </li>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/blog-archive/">Blog Archive</a>
                </li>
        </ul>
    </nav>
</div>

    <!-- You can safely delete this line if your theme does not require jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-53685619-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
    <script type="text/javascript" src="../assets/js/jqcloud-1.0.4.js"></script>
    <script type="text/javascript" src="../assets/js/toc.min.js"></script>
    <script type="text/javascript" src="../assets/js/shell.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.3/handlebars.min.js"></script>
</body>
