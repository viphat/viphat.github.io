
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Sơ Lược Về Địa Chỉ IP</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=18cb07b4ca">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/monokai_sublime.min.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,500italic,700,700italic&amp;subset=latin,latin-ext,vietnamese">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jqcloud/1.0.4/jqcloud.css">

    <link rel="canonical" href="http://localhost:2368/so-luoc-ve-dia-chi-ip/">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="viphat's notes">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Sơ Lược Về Địa Chỉ IP">
    <meta property="og:description" content="IP là một loại địa chỉ logic thuộc lớp Network của mô hình OSI (và là một thành phần quan trọng trong bộ giao thức TCP/IP), cung cấp cho chúng ta một cách đánh địa chỉ linh hoạt, tiện...">
    <meta property="og:url" content="http://localhost:2368/so-luoc-ve-dia-chi-ip/">
    <meta property="article:published_time" content="2015-07-01T23:36:01.156Z">
    <meta property="article:modified_time" content="2015-07-01T23:42:08.933Z">
    <meta property="article:tag" content="Network">
    <meta property="article:tag" content="IPv4">
    <meta property="article:tag" content="Basic">
    <meta property="article:tag" content="TCP/IP">
    <meta property="article:tag" content="IP">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Sơ Lược Về Địa Chỉ IP">
    <meta name="twitter:description" content="IP là một loại địa chỉ logic thuộc lớp Network của mô hình OSI (và là một thành phần quan trọng trong bộ giao thức TCP/IP), cung cấp cho chúng ta một cách đánh địa chỉ linh hoạt, tiện...">
    <meta name="twitter:url" content="http://localhost:2368/so-luoc-ve-dia-chi-ip/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "viphat's notes",
    "author": {
        "@type": "Person",
        "name": "Duong Vi Phat",
        "image": "http://localhost:2368/content/images/2015/09/avatar-ninja.png",
        "url": "http://localhost:2368/author/viphat",
        "sameAs": null,
        "description": null
    },
    "headline": "Sơ Lược Về Địa Chỉ IP",
    "url": "http://localhost:2368/so-luoc-ve-dia-chi-ip/",
    "datePublished": "2015-07-01T23:36:01.156Z",
    "dateModified": "2015-07-01T23:42:08.933Z",
    "keywords": "Network, IPv4, Basic, TCP/IP, IP",
    "description": "IP là một loại địa chỉ logic thuộc lớp Network của mô hình OSI (và là một thành phần quan trọng trong bộ giao thức TCP/IP), cung cấp cho chúng ta một cách đánh địa chỉ linh hoạt, tiện..."
}
    </script>

    <meta name="generator" content="Ghost 0.7">
    <link rel="alternate" type="application/rss+xml" title="viphat's notes" href="http://localhost:2368/rss/">

</head>
<body class="post-template tag-network tag-ipv4 tag-basic tag-tcpip tag-ip">

    

<main class="content" role="main">
    <div id="toc"></div>
    <nav class="main-nav">
          <i class="fa fa-bars js-main-menu-open element-light right" style="font-size:30px; margin-left:5px;"></i>
    </nav>
    <article class="post tag-network tag-ipv4 tag-basic tag-tcpip tag-ip">



        <header class="post-header">
            <a id="blog-logo" href="http://localhost:2368">
                    <img src="../content/images/2015/06/988902_10153164942799169_3258802522813421684_n.jpg" alt="notes.viphat.work">
            </a>
        </header>


        <span class="post-meta"><time datetime="2015-07-02">02 Jul 2015</time> on <a href="../tag/network/">Network</a> | <a href="../tag/ipv4/">IPv4</a> | <a href="../tag/basic/">Basic</a> | <a href="../tag/tcpip/">TCP/IP</a> | <a href="../tag/ip/">IP</a></span>

        <h1 class="post-title">Sơ Lược Về Địa Chỉ IP</h1>

        <section class="post-content">
            <p>IP là một loại địa chỉ logic thuộc lớp Network của mô hình OSI (và là một thành phần quan trọng trong bộ giao thức <a href="http://notes.viphat.work/tong-quan-ve-tcp-ip-va-http"><strong>TCP/IP</strong></a>), cung cấp cho chúng ta một cách đánh địa chỉ linh hoạt, tiện dụng để sử dụng trong các giao thức định tuyến sau này. Hầu hết máy tính và thiết bị mạng hiện nay đang sử dụng phiên bản IPv4, nên trong phạm vi bài viết này chúng ta chỉ đề cập tới IPv4.</p>

<h4 id="achiplg">Địa chỉ IP là gì?</h4>

<p>Để gửi thư cho nhau, ta bắt buộc phải biết địa chỉ của đối phương, các gói tin cũng vậy, luôn phải có một loại địa chỉ để xác định vị trí, từ đó trao đổi thông tin chính xác giữa máy nguồn và máy đích. Vậy nên, trong Internet các địa chỉ IP là duy nhất. </p>

<p>Xem thêm bài <a href="http://notes.viphat.work/hanh-trinh-cua-mot-goi-tin/"><strong>Hành trình của một gói tin</strong></a></p>

<h4 id="cutrccaachip">Cấu trúc của địa chỉ IP</h4>

<p>Địa chỉ IP là một dải nhị phân dài 32 bit và chia thành 4 bộ 8 bit gọi là các Octet, gồm phần net-id dùng để xác định mạng mà thiết bị kết nối vào và phần host-id để xác định thiết bị của mạng đó.</p>

<p><img src="http://i.imgur.com/QyyWfUt.png" alt="IP"></p>

<p>Để cho đơn giản, người ta viết lại địa chỉ IP dưới dạng 4 số thập phân được cách nhau bởi dấu chấm.</p>

<p>Ví dụ: địa chỉ hệ thập phân tương ứng cho 11000000 10100000 00000001 00000001 sẽ là 192.168.1.1 - một địa chỉ khá quen thuộc.</p>

<p>Để xem địa chỉ IP của máy tính một cách đơn giản, ta có thể sử dụng Command Prompt với câu lệnh ipconfig (hoặc ifconfig nếu là hệ thống Unix).</p>

<p><img src="http://i.imgur.com/f9tTl41.png" alt="IPCONFIG"></p>

<h4 id="subnetmask">Subnet mask</h4>

<p>Vậy làm sao để phân biệt được bit nào thuộc phần net-id, bit nào thuộc về host-id, đó là nhờ vào Subnet Mask, Mỗi địa chỉ IP đều đi kèm với một subnet mask, để xác định được phần net-id của địa chỉ đó. Subnet mask cũng là một dải nhị phân dài 32 bits và chia ra 4 bộ 8 bits như địa chỉ IP.</p>

<p>Subnet mask bao gồm phần các bits 1 và phần còn lại là các bits 0, subnet mask có bao nhiêu bit 1 thì địa chỉ IP tương ứng sẽ có bấy nhiêu bit phần net-id.</p>

<p>Ví dụ: với subnet mask như sau: 11111111 11111111 11111111 00000000 (255.255.255.0) bao gồm 24 bits 1, thì địa chỉ IP mang subnet mask này cũng sẽ có 24 bits phần net-id.</p>

<p>Có thể viết trực tiếp như sau: 192.168.1.3 - 255.255.255.0 hoặc sử dụng prefix length: 192.168.1.3/24</p>

<p>Lưu ý, một địa chỉ IP có thể thuộc các mạng khác nhau nếu sử dụng các subnet mask khác nhau. Để xác định địa chỉ IP đó thuộc mạng nào, ta chỉ cần lấy địa chỉ IP AND (bitwise) với subnet mask tương ứng.</p>

<p>Ví dụ: 192.168.1.3 AND 255.255.255.0 = 192.168.1.0 vậy địa chỉ 192.168.1.3/24 thuộc mạng 192.168.1.0/24</p>

<h4 id="phnlpachip">Phân lớp địa chỉ IP</h4>

<p>Số lượng địa chỉ IP là rất lớn, nên để tiện cho việc quản lý, người ta phân hoạch toàn bộ địa chỉ IP ra thành 5 lớp khác nhau.</p>

<h5 id="lpa">Lớp A</h5>

<p>Địa chỉ lớp A sử dụng 1 Octet đầu tiên làm net-id, phần còn lại làm host-id. Bit đầu tiên của địa chỉ lớp A luôn là 0 nên</p>

<ul>
<li>Giá trị nhỏ nhất của Octet 1: 00000000 hay 0</li>
<li>Giá trị lớn nhất của Octet 1: 01111111 hay 127</li>
<li>Default subnet mask: 255.0.0.0</li>
</ul>

<p>Tuy nhiên giá trị 0 (giá trị nhỏ nhất của Octet) không được sử dụng và giá trị 127 (giá trị lớn nhất của Octet) được dành ch Loopback và chẩn đoán, kiểm tra lỗi, nên dải địa chỉ lớp A sẽ từ 1.x.x.x đến 126.x.x.x</p>

<h5 id="lpb">Lớp B</h5>

<p>Địa chỉ lớp B sử dụng 2 Octet đầu tiên để làm net-id, 2 Octet còn lại làm host-id. 2 bits đầu tiên của địa chỉ lớp B luôn là 10 nên</p>

<p>Giá trị nhỏ nhất của Octet 1: 10000000 hay 128 <br>
Giá trị lớn nhất của Octet 1: 10111111 hay 191 <br>
Default subnet mask: 255.255.0.0</p>

<p>Vậy dải địa chỉ lớp B sẽ là từ 128.x.x.x đến 191.x.x.x</p>

<h5 id="lpc">Lớp C</h5>

<p>Địa chỉ lớp C sử dụng 3 Octet đầu tiên để làm net-id,  Octet 4  làm host-id. 3 bits đầu tiên của địa chỉ lớp C luôn là 110 nên:</p>

<ul>
<li>Giá trị nhỏ nhất của Octet 1: 11000000 hay 192</li>
<li>Giá trị lớn nhất của Octet 1: 11011111 hay 223</li>
<li>Default subnet mask: 255.255.255.0</li>
</ul>

<p>Vậy dải địa chỉ lớp C bắt đầu từ 192.x.x.x đến 223.x.x.x</p>

<p>Ngoài ra còn có địa chỉ <strong>lớp D</strong> (224.x.x.x – 239.x.x.x) sẽ nói tới ở phần sau và <strong>lớp E</strong> (240.x.x.x – 254.x.x.x) dùng để thí nghiệm và nghiên cứu.</p>

<h4 id="ccloiachip">Các loại địa chỉ IP</h4>

<h5 id="achunicast">Địa chỉ Unicast</h5>

<p>Khi bạn muốn gửi gói tin đến một máy tính cụ thể, khi đó địa chỉ để bạn gửi tới sẽ là một địa chỉ unicast. Đây đơn giản chỉ là địa chỉ IP của một thiết bị nào đó trong cùng hoặc mạng cục bộ khác.</p>

<h5 id="achmulticast">Địa chỉ Multicast</h5>

<p>Trường hợp muốn gửi gói tin đến nhiều máy tính, ta không thể gửi lần lượt đến tất cả các máy được. Vì thế, địa chỉ bạn cần gửi tới trong trường hợp này sẽ là một địa chỉ Multicast, địa chỉ này đại diện cho một nhóm các thiết bị.</p>

<p>Địa chỉ multicast này chính là các địa chỉ trong dải địa chỉ <strong>lớp D</strong>.</p>

<h5 id="achbroadcast">Địa chỉ Broadcast</h5>

<p>Khi muốn gửi thông điệp đến tất cả các máy trong mạng nội bộ, đó là lúc ta cần sử dụng đến địa chỉ Broadcast. Địa chỉ Broadcast là địa chỉ có toàn bộ các bits phần host-id là 1. Khi gói tin được gửi đến địa chỉ Broadcast, thì nó sẽ được gửi tới tất cả các máy cùng mạng, tức là cùng phần net-id. Vì đại diện cho toàn bộ thiết bị trong mạng nên địa chỉ Broadcast không thể đặt được cho bất kỳ thiết bị nào.</p>

<p>Ví dụ: 192.168.1.255/24 là địa chỉ Broadcast của mạng 192.168.1.0/24.</p>

<h5 id="achmng">Địa chỉ mạng</h5>

<p>Không chỉ các thiết bị mới có địa chỉ IP, mà các mạng thành phần của Internet hay mạng cục bộ cũng có một địa chỉ để xác định chính xác mạng đó. Khi tất cả các bits phần Host của một địa chỉ IP là 0, thì địa chỉ đó được gọi là địa chỉ mạng của mạng đó. Vì đại diện cho mạng nên địa chỉ mạng cũng không thể đặt được cho bất kỳ thiết bị nào.</p>

<p>Ví dụ: 192.168.1.0/24 là địa chỉ mạng của mạng 192.168.1.0/24.</p>

<h5 id="defaultgateway">Default Gateway</h5>

<p>Như một cổng thoát hiểm, khi gói tin cần gửi đến địa chỉ không cùng mạng hiện tại, hoặc đơn giản là không biết gửi đi đâu, thì gói tin đó sẽ được gửi tới địa chỉ Default gateway, thường là một interface của Router nối trực tiếp với mạng đó. Tại đây, Router sẽ dùng các chức năng định tuyến để chuyển tiếp gói tin đi các hướng khác nhau.</p>

<p>Default Gateway thường là địa chỉ IP có thể sử dụng đầu tiên của mạng đó.</p>

<p>Ví dụ: Default gateway của mạng 192.168.1.0/24 là 192.168.1.1/24.</p>

<h4 id="sgiihncaiachip">Sự giới hạn của đia chỉ IP</h4>

<p>Số lượng địa chỉ IP là rất lớn, nhưng không phải là vô hạn. Vì vậy để bảo tồn địa chỉ IP, người ta chia địa chỉ IP ra làm 2 loại là địa chỉ public và địa chỉ private.</p>

<h5 id="achpublic">Địa chỉ public</h5>

<p>Là các địa chỉ độc nhất, sử dụng được trong môi trường Internet.</p>

<h5 id="achprivate">Địa chỉ private</h5>

<p>Chỉ sử dụng được trong mạng cục bộ, có thể tái sử dụng lại ở mạng cục bộ khác, nhưng trong một mạng thì vẫn phải mang giá trị duy nhất.</p>

<p>Với mỗi phân lớp địa chỉ IP, thì có một dải địa chỉ dùng để làm địa chỉ private cho lớp đó:</p>

<p>Lớp A: Từ 10.0.0.0 đến 10.255.255.255, subnet mask 255.0.0.0 <br>
Lớp B: Từ 172.16.0.0 đến 172.31.255.255, subnet mask 255.240.0.0 <br>
Lớp C: Từ 192.168.0.0 đến 192.168.255.255, subnet mask 255.255.0.0</p>

<p>Khi các thiết bị sử dụng địa chỉ IP private trong mạng cục bộ muốn truy cập được Internet – môi trường không sử dụng địa chỉ private, công nghệ <strong>NAT</strong> (<strong>Network Address Translation</strong>) được cài đặt trên các thiết bị router(đã được gán 1 địa chỉ IP Public) được sử dụng để chuyển IP private thành IP public và ngược lại, giúp cho các thiết bị trong mạng cục bộ vẫn có thể truy cập được Internet.</p>

<h4 id="phngphpchiaipvsubnetmask">Phương pháp chia IP và Subnet mask</h4>

<blockquote>
  <p>Cho địa chỉ 192.168.155.245/27. Xác định địa chỉ mạng, địa chỉ broadcast, dải địa chỉ có thể dùng cho host?</p>
</blockquote>

<p><strong>Phương pháp tính</strong></p>

<p>Prefix length = 27, vậy subnet mask tương ứng là 11111111 11111111 11111111 11100000 - từ đó ta xác định được số bits phần net-id của địa chỉ IP.</p>

<p>IP = 192.168.155.245, dạng nhị phân tương ứng là: 11000000 10101000 10011011 11110101</p>

<p>Giữ lại phần net-id, phần host-id set về toàn bit 0: 11000000 10101000 10011011 11100000</p>

<p>Ta được địa chỉ mạng, viết lại ở dạng thập phân sẽ là: 192.168.155.224/27.</p>

<p>Với địa chỉ Broadcast, host-id sẽ set về toàn bit 1:  11000000 10101000 10011011 11111111</p>

<p>Ta được địa chỉ Broadcast, viết lại ở dạng thập phân sẽ là: 192.168.155.255/27.</p>

<p>Vì địa chỉ mạng và địa chỉ Broadcast không được dùng cho host nên dải địa chỉ có thể sử dụng ở đây là từ 192.168.155.225/27 đến 192.168.155.254/27.</p>

<blockquote>
  <p>Cho mạng 192.168.155.0/ 24. Chia mạng này thành các mạng con cho các phòng ban sau: Phòng A: 80 máy, phòng B: 60 máy, 2 phòng C, D: mỗi phòng 25 máy.</p>
</blockquote>

<p><strong>Phương pháp tính</strong></p>

<p>Đầu tiên ta có địa chỉ IP và các bit phần net-id: 11000000 10101000 10011011 00000000 trừ địa chỉ mạng và broadcast ra, thì mạng này có tối đa 254 máy.</p>

<p>Ta mượn 1 phần host-id chuyển qua làm net-id, được 2 mạng con như sau:</p>

<ul>
<li>11000000 10101000 10011011 00000000 hay 192.168.155.0/25</li>
<li>11000000 10101000 10011011 10000000 hay 192.168.155.128/25</li>
</ul>

<p>Ta thấy, mạng 192.168.155.0/25 có 7 bits phần host-id, biểu diễn được 127 máy, đủ cho phòng A, nên ta gán mạng này cho phòng A.</p>

<p>Với địa chỉ 192.168.155.128/25, ta lại mượn 1 phần host-id chuyển qua làm net-id, được 2 mạng con như sau:</p>

<ul>
<li>11000000 10101000 10011011 10000000 hay 192.168.155.128/26</li>
<li>11000000 10101000 10011011 11000000  hay 192.168.155.192/26</li>
</ul>

<p>Tiếp tục, mạng 192.168.155.128/26 có 6 bits phần host-id, biểu diễn được 63 máy, nên ta gán cho phòng B mạng này.</p>

<p>Làm tương tự với mạng 192.168.155.192/26, được 2 mạng con:</p>

<ul>
<li>11000000 10101000 10011011 11000000 hay 192.168.155.192/27</li>
<li>11000000 10101000 10011011 11100000 hay 192.168.155.224/27</li>
</ul>

<p>2 mạng con này có 5 bits phần host-id, biểu diễn được 31 máy, ta gán lần lượt cho phòng C và D.</p>

<p>Như vậy ta đã chia mạng 192.168.155.0/24 thành các mạng con có kích cỡ khác nhau, phù hợp với yêu cầu đề bài:</p>

<ul>
<li>Phòng A: 192.168.155.0/25</li>
<li>Phòng B: 192.168.155.128/26</li>
<li>Phòng C: 192.168.155.192/27</li>
<li>Phòng D: 192.168.155.224/27</li>
</ul>

<p><small><strong>Bài viết được lấy từ nguồn <a href="http://www.stdio.vn/articles/read/122-so-luoc-ve-dia-chi-ip">http://www.stdio.vn/articles/read/122-so-luoc-ve-dia-chi-ip</a></strong></small></p>
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h3>Duong Vi Phat</h3>
                    <p></p>
                </section>

            <section class="share">
                <h3>Share this</h3>
                <a class="icon-twitter" href="http://twitter.com/share?text=S%C6%A1%20L%C6%B0%E1%BB%A3c%20V%E1%BB%81%20%C4%90%E1%BB%8Ba%20Ch%E1%BB%89%20IP&amp;url=http://localhost:2368/so-luoc-ve-dia-chi-ip/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/so-luoc-ve-dia-chi-ip/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://localhost:2368/so-luoc-ve-dia-chi-ip/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <!-- <a class="subscribe icon-feed" href="http://localhost:2368/rss/"><span class="tooltip">Subscribe!</span></a> -->
        <div class="inner">
             <section class="social_links">
                <a href="https://twitter.com/viphat" target="_blank">
                  <i class="fa fa-twitter-square fa-2x"></i>
                </a>
                <a href="https://www.facebook.com/viphat" target="_blank">
                  <i class="fa fa-facebook-square fa-2x"></i>
                </a>
                <a href="https://github.com/viphat" target="_blank">
                  <i class="fa fa-github-square fa-2x"></i>
                </a>
             </section>
             <section class="copyright">All content copyright <a href="../">viphat's notes</a> © 2014-2015 • All rights reserved.</section>
             <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://ghost.org">Ghost</a> in <a href="https://github.com/viphat/The-Shell">The Shell</a> theme.</section>
        </div>
    </footer>

        <div class="main-menu-ovrl main-menu-ovrl-hugeinc js-main-menu-ovrl">
    <i class="fa fa-times main-menu-ovrl-close js-main-menu-close" style="margin-left: 5px; font-size:30px;"></i>
    <nav>
        <ul>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/">Home</a>
                </li>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/tag-cloud/">Tag Cloud</a>
                </li>
                <li style="font-size: 42px; padding-bottom:10px;">
                    <a href="http://localhost:2368/blog-archive/">Blog Archive</a>
                </li>
        </ul>
    </nav>
</div>

    <!-- You can safely delete this line if your theme does not require jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-53685619-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
    <script type="text/javascript" src="../assets/js/jqcloud-1.0.4.js"></script>
    <script type="text/javascript" src="../assets/js/toc.min.js"></script>
    <script type="text/javascript" src="../assets/js/shell.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.3/handlebars.min.js"></script>
</body>
